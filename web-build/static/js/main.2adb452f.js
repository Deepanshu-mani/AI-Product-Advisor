(()=>{"use strict";var e={4492:(e,t,r)=>{var o=r(3723),a=r(7835),n=r(8178),i=r(1725),s=r(9551),c=r(8799),d=r(2340),l=r(403),u=r(696),h=r(2400),p=r(9365),m=r(5657),g=r(7166),f=r(1025),y=r(5819);function b({query:e,setQuery:t,onSubmit:r,loading:o,theme:a}){const n=()=>{!o&&e.trim()&&(r(),f.default.dismiss())};return(0,y.jsxs)(i.default,{style:[w.container,{backgroundColor:a.colors.surface,borderColor:a.colors.gray200,boxShadowColor:a.colors.shadow,boxShadowOffset:{width:0,height:4},boxShadowOpacity:.1,boxShadowRadius:8,elevation:6}],children:[(0,y.jsx)(c.default,{style:[w.label,{color:a.colors.text}],children:"What are you looking for?"}),(0,y.jsx)(m.default,{style:[w.input,{borderColor:a.colors.gray300,backgroundColor:a.colors.input,color:a.colors.text}],placeholder:"e.g., I need a device to help with back pain, or I want a smart home security system...",placeholderTextColor:a.colors.textSecondary,value:e,onChangeText:t,multiline:!0,numberOfLines:3,textAlignVertical:"top",editable:!o,onSubmitEditing:()=>{n()},returnKeyType:"search",onKeyPress:({nativeEvent:e})=>{"Enter"!==e.key||e.shiftKey||n()},autoCapitalize:"sentences",autoCorrect:!0,spellCheck:!0}),(0,y.jsx)(d.default,{style:[w.button,{backgroundColor:a.colors.primary,boxShadowColor:a.colors.shadow,boxShadowOffset:{width:0,height:6},boxShadowOpacity:.25,boxShadowRadius:12,elevation:12},o&&w.buttonDisabled],onPress:n,disabled:o,activeOpacity:.8,children:o?(0,y.jsxs)(i.default,{style:w.loadingContainer,children:[(0,y.jsx)(g.default,{size:"small",color:a.colors.primaryForeground}),(0,y.jsx)(c.default,{style:[w.buttonText,{color:a.colors.primaryForeground}],children:"Getting Recommendations..."})]}):(0,y.jsxs)(i.default,{style:w.buttonContent,children:[(0,y.jsx)(p.default,{name:"search",size:18,color:a.colors.primaryForeground,style:w.buttonIcon}),(0,y.jsx)(c.default,{style:[w.buttonText,{color:a.colors.primaryForeground}],children:"Get AI Recommendations"})]})}),(0,y.jsx)(i.default,{style:w.hintsContainer,children:(0,y.jsx)(c.default,{style:[w.hint,{color:a.colors.textSecondary}],children:"\ud83d\udca1 Be specific about your needs, budget, or use case for better recommendations"})})]})}const w=s.default.create({container:{marginTop:10,padding:20,borderRadius:16,marginBottom:20,borderWidth:1},label:{fontSize:16,fontWeight:"600",marginBottom:12},input:{borderWidth:1,borderRadius:12,padding:16,marginBottom:16,fontSize:16,minHeight:80},button:{paddingVertical:16,paddingHorizontal:24,borderRadius:12,alignItems:"center",marginBottom:12},buttonDisabled:{opacity:.6},loadingContainer:{flexDirection:"row",alignItems:"center"},buttonContent:{flexDirection:"row",alignItems:"center"},buttonIcon:{marginRight:8},buttonText:{fontSize:16,fontWeight:"600"},hintsContainer:{alignItems:"center"},hint:{fontSize:12,textAlign:"center",fontStyle:"italic",marginBottom:6},enterHint:{fontSize:11,textAlign:"center",opacity:.8}});function v({product:e,theme:t}){if(!e)return null;const{brand:r,product_name:o,price:a,category:n,description:s,reason:d}=e;return(0,y.jsxs)(i.default,{style:[S.card,{backgroundColor:t.colors.surface,boxShadowColor:t.colors.shadow,boxShadowOffset:{width:0,height:4},boxShadowOpacity:.15,boxShadowRadius:12,elevation:8,borderColor:t.colors.gray200}],children:[(0,y.jsxs)(i.default,{style:S.header,children:[(0,y.jsx)(c.default,{style:[S.brand,{color:t.colors.primary}],children:r}),(0,y.jsx)(i.default,{style:[S.categoryBadge,{backgroundColor:t.colors.gray100}],children:(0,y.jsx)(c.default,{style:[S.category,{color:t.colors.gray600}],children:n})})]}),(0,y.jsx)(c.default,{style:[S.title,{color:t.colors.text}],children:o}),(0,y.jsxs)(c.default,{style:[S.price,{color:t.colors.success}],children:["\u20b9",a.toLocaleString()]}),(0,y.jsx)(c.default,{style:[S.description,{color:t.colors.textSecondary}],children:s}),(0,y.jsxs)(i.default,{style:[S.reasonContainer,{backgroundColor:t.colors.gray50,borderLeftColor:t.colors.warning}],children:[(0,y.jsx)(c.default,{style:[S.reasonLabel,{color:t.colors.warning}],children:"Why this is recommended:"}),(0,y.jsx)(c.default,{style:[S.reason,{color:t.colors.text}],children:d})]})]})}const S=s.default.create({card:{padding:16,borderRadius:12,marginBottom:16,borderWidth:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},brand:{fontSize:14,fontWeight:"600",textTransform:"uppercase"},categoryBadge:{paddingHorizontal:8,paddingVertical:4,borderRadius:12},category:{fontSize:12},title:{fontSize:18,fontWeight:"bold",marginBottom:8},price:{fontSize:20,fontWeight:"700",marginBottom:12},description:{fontSize:14,lineHeight:20,marginBottom:16},reasonContainer:{padding:12,borderRadius:8,borderLeftWidth:4},reasonLabel:{fontSize:12,fontWeight:"600",marginBottom:4,textTransform:"uppercase"},reason:{fontSize:14,lineHeight:18}});function x({onTest:e,theme:t}){return(0,y.jsxs)(i.default,{style:[C.container,{backgroundColor:t.colors.surface,boxShadowColor:t.colors.shadow,boxShadowOffset:{width:0,height:4},boxShadowOpacity:.12,boxShadowRadius:8,elevation:6,borderColor:t.colors.gray200}],children:[(0,y.jsx)(c.default,{style:[C.title,{color:t.colors.text}],children:"Test Recommendations"}),(0,y.jsx)(c.default,{style:[C.subtitle,{color:t.colors.textSecondary}],children:"Try these sample queries to test the AI:"}),["I need a device to help with back pain","I want a smart home security system","I'm looking for entertainment devices for kids","I need kitchen appliances for cooking","I want devices for hair care and styling"].map((r,o)=>(0,y.jsx)(d.default,{style:[C.testButton,{backgroundColor:t.colors.gray200,borderLeftColor:t.colors.primary}],onPress:()=>e(r),activeOpacity:.7,children:(0,y.jsx)(c.default,{style:[C.testButtonText,{color:t.colors.text}],children:r})},o))]})}const C=s.default.create({container:{padding:16,borderRadius:12,marginBottom:16,borderWidth:1},title:{fontSize:16,fontWeight:"600",marginBottom:8},subtitle:{fontSize:14,marginBottom:12},testButton:{padding:12,borderRadius:8,marginBottom:8,borderLeftWidth:3},testButtonText:{fontSize:14}}),k=JSON.parse('[{"brand":"CURAPOD by litemed","product_name":"Adaptive Pain Management","price":8999,"category":"Healthtech and Wellness","description":"This device uses advanced technology to provide adaptive pain relief, targeting specific areas of discomfort for personalized therapy."},{"brand":"winston","product_name":"Electric LED Comb for Hair Therapy and Growth","price":2098,"category":"Healthtech and Wellness","description":"Promote hair growth and improve scalp health with this electric LED comb that uses light therapy to stimulate hair follicles."},{"brand":"REMAXX","product_name":"Neck Massager","price":1500,"category":"Healthtech and Wellness","description":"Relieve tension in your neck and shoulders with this ergonomic massager, featuring multiple modes and heat therapy for ultimate relaxation."},{"brand":"spandan","product_name":"Portable ECG Device","price":7328,"category":"Healthtech and Wellness","description":"Monitor your heart health on the go with this portable ECG device, providing accurate readings that can be shared with your doctor."},{"brand":"caresmith","product_name":"Revive Electric Head Massager","price":1149,"category":"Healthtech and Wellness","description":"Experience a soothing scalp massage with the Revive Electric Head Massager, designed to reduce stress and promote relaxation."},{"brand":"caresmith","product_name":"Charge Boost Massage Gun","price":1499,"category":"Healthtech and Wellness","description":"Target sore muscles and improve recovery with this powerful massage gun, equipped with multiple attachments for a customized experience."},{"brand":"caresmith","product_name":"Revive Foot & Leg Massager","price":12999,"category":"Healthtech and Wellness","description":"Soothe tired feet and legs with this comprehensive massager, featuring air compression and roller technology for a deep and invigorating massage."},{"brand":"LUISLAM","product_name":"Airizona High-Speed lonic Hair Dryer","price":12999,"category":"Personal Care","description":"Achieve a salon-quality blowout at home with this high-speed ionic hair dryer, which reduces frizz and enhances shine for a flawless finish."},{"brand":"winston","product_name":"Flexy 8-in-1 Professional Hot Air Styler & Hair Dryer Brush","price":18999,"category":"Personal Care","description":"Style and dry your hair simultaneously with this versatile 8-in-1 hot air styler, perfect for creating a variety of looks with ease."},{"brand":"Miko","product_name":"Miko Mini","price":9999,"category":"Entertainment","description":"Engage your child with the Miko Mini, a playful and educational robot that tells stories, plays games, and answers questions."},{"brand":"LEAF","product_name":"Bass Headphones","price":1999,"category":"Entertainment","description":"Immerse yourself in deep, powerful bass with these comfortable over-ear headphones, perfect for music lovers and gamers alike."},{"brand":"Halo","product_name":"Smart Ring","price":8999,"category":"Entertainment","description":"Track your fitness and sleep patterns with the sleek and discreet Halo Smart Ring, which provides valuable insights into your overall health."},{"brand":"TECSOX","product_name":"Luma-Led Projector","price":3999,"category":"Entertainment","description":"Transform any room into a home theater with this compact and powerful LED projector, offering a bright and vibrant display."},{"brand":"HAMMER","product_name":"BeatBox Bluetooth Soundbar","price":1999,"category":"Entertainment","description":"Enhance your audio experience with the BeatBox Bluetooth Soundbar, delivering rich and immersive sound for movies, music, and games."},{"brand":"METASHOT","product_name":"Smart Cricket Bat","price":5999,"category":"Entertainment","description":"Improve your batting skills with the METASHOT Smart Cricket Bat, which analyzes your performance and provides real-time feedback."},{"brand":"Miko","product_name":"Miko 3","price":19999,"category":"Entertainment","description":"The Miko 3 is an advanced AI-powered robot that helps kids learn and develop new skills through interactive games and activities."},{"brand":"bt","product_name":"Dot bluetooth speaker","price":699,"category":"Entertainment","description":"Enjoy your favorite music on the go with this compact and portable Bluetooth speaker, offering impressive sound in a small package."},{"brand":"bt","product_name":"Blaze Wired Over Ear Gaming Headphones","price":1999,"category":"Entertainment","description":"Get a competitive edge with the Blaze gaming headphones, featuring crystal-clear audio and a comfortable design for long gaming sessions."},{"brand":"MIRANA","product_name":"Spectre","price":14299,"category":"Entertainment","description":"Unleash your inner racer with the Spectre remote-controlled car, built for speed and durability for the ultimate off-road adventure."},{"brand":"MIRANA","product_name":"Moonwalker","price":1624,"category":"Entertainment","description":"Explore new terrains with the Moonwalker remote-controlled car, designed for all-ages fun and excitement."},{"brand":"MIRANA","product_name":"Mahindra Tractor","price":2899,"category":"Entertainment","description":"Experience the thrill of farming with this realistic remote-controlled Mahindra Tractor, perfect for imaginative play."},{"brand":"upliance.ai","product_name":"AI Cooking Assistant","price":27999,"category":"Kitchen Appliances","description":"Simplify your cooking with this AI-powered assistant, which guides you through recipes and automates various cooking tasks."},{"brand":"NOSH","product_name":"Autonomous Cooking Robot","price":74999,"category":"Kitchen Appliances","description":"Enjoy delicious meals with the push of a button with this autonomous cooking robot that chops, mixes, and cooks your food to perfection."},{"brand":"KROFF","product_name":"La Cafeno 3-in-1 Coffee Machine","price":11999,"category":"Kitchen Appliances","description":"Brew your favorite coffee at home with this versatile 3-in-1 coffee machine, compatible with various capsules and ground coffee."},{"brand":"enciser","product_name":"Emerald electric meter","price":5999,"category":"Home Improvement","description":"Monitor your energy consumption in real-time with the Emerald electric meter, helping you save money and reduce your carbon footprint."},{"brand":"MecTURING","product_name":"LASERON S9 Pro Plus ADC","price":37999,"category":"Home Improvement","description":"Keep your floors spotless with the LASERON S9 Pro Plus ADC, a smart robot vacuum with advanced navigation and powerful suction."},{"brand":"MecTURING","product_name":"S9 Pro+","price":23890,"category":"Home Improvement","description":"The S9 Pro+ is a powerful and intelligent robot vacuum that provides a thorough and efficient cleaning experience."},{"brand":"ILIFE","product_name":"A20","price":17900,"category":"Home Improvement","description":"The ILIFE A20 is a robotic vacuum cleaner with advanced mapping and scheduling features for a customized cleaning routine."},{"brand":"ILIFE","product_name":"T20s Pro","price":36900,"category":"Home Improvement","description":"Experience superior cleaning performance with the ILIFE T20s Pro, a robot vacuum with powerful suction and mopping capabilities."},{"brand":"ILIFE","product_name":"W90 Wet & Dry Cordless Stick Vacuum Cleaner","price":13900,"category":"Home Improvement","description":"Clean up wet and dry messes with ease using the ILIFE W90, a versatile and lightweight cordless stick vacuum cleaner."},{"brand":"JAFANDA","product_name":"Air Purifiers - True H13","price":5999,"category":"Home Improvement","description":"Breathe cleaner air with the JAFANDA True H13 Air Purifier, which captures 99.97% of airborne particles for a healthier home environment."},{"brand":"happinetz","product_name":"Parental Control Internet Filter","price":7000,"category":"Home Improvement","description":"Ensure a safe online experience for your children with the happinetz Parental Control Internet Filter, which blocks inappropriate content."},{"brand":"airth","product_name":"Split AC Air Purifier","price":2500,"category":"Home Improvement","description":"Improve the air quality in your home with the airth Split AC Air Purifier, which removes dust, allergens, and other pollutants from the air."},{"brand":"ARISTA VAULT","product_name":"Wallet Bot- Classic","price":5280,"category":"Travel & Lifestyle","description":"Keep your valuables safe with the Wallet Bot- Classic, a smart wallet with GPS tracking and anti-theft features."},{"brand":"ARISTA VAULT","product_name":"Smart Back Pack","price":9840,"category":"Travel & Lifestyle","description":"Travel smarter with this innovative backpack, featuring a built-in power bank and anti-theft design for peace of mind."},{"brand":"ARISTA VAULT","product_name":"Jarviz-Follow me luggage","price":64880,"category":"Travel & Lifestyle","description":"Experience hands-free travel with the Jarviz-Follow me luggage, a smart suitcase that follows you wherever you go."},{"brand":"WHILL","product_name":"C2 Electric Wheelchair","price":300000,"category":"Smart Mobility","description":"Navigate your world with ease and style in the WHILL C2 Electric Wheelchair, featuring a sleek design and advanced mobility features."},{"brand":"RADBOARDS","product_name":"Hoverboard","price":16999,"category":"Smart Mobility","description":"Glide through your neighborhood on this self-balancing hoverboard, offering a fun and futuristic mode of transportation."},{"brand":"RADBOARDS","product_name":"E-scooter","price":36000,"category":"Smart Mobility","description":"Commute in style with this sleek and foldable e-scooter, providing a convenient and eco-friendly way to get around the city."},{"brand":"mygate","product_name":"Door Lock PLUS","price":14990,"category":"Security & Surveillance","description":"Secure your home with the mygate Door Lock PLUS, a smart lock with multiple access options and real-time notifications."},{"brand":"mygate","product_name":"Door Lock SE","price":9450,"category":"Security & Surveillance","description":"The mygate Door Lock SE is a reliable and easy-to-use smart lock that provides keyless entry and enhanced security for your home."},{"brand":"PandaX","product_name":"Wi-Fi Video Doorbell","price":5099,"category":"Security & Surveillance","description":"See and speak to visitors at your door from anywhere with the PandaX Wi-Fi Video Doorbell, featuring two-way audio and motion detection."},{"brand":"GLAVNA","product_name":"LA5 WF-Glass Door Lock (BLT)","price":9690,"category":"Security & Surveillance","description":"Secure your glass doors with the GLAVNA LA5 WF, a smart lock with a sleek design and advanced security features."},{"brand":"GLAVNA","product_name":"LS10-Cabinet Lock","price":1190,"category":"Security & Surveillance","description":"Keep your valuables safe with the GLAVNA LS10, a smart cabinet lock that can be easily installed and controlled with your smartphone."},{"brand":"GLAVNA","product_name":"LP40-Padlock","price":1190,"category":"Security & Surveillance","description":"The GLAVNA LP40 is a durable and weatherproof smart padlock that provides keyless access and enhanced security for your belongings."},{"brand":"EZVIZ","product_name":"Indoor PT H6C Pro 4MP","price":3700,"category":"Security & Surveillance","description":"Monitor your home with the EZVIZ Indoor PT H6C Pro, a pan-and-tilt security camera with high-definition video and night vision."},{"brand":"EZVIZ","product_name":"Outdoor PT H8 Pro - 3MP","price":6801,"category":"Security & Surveillance","description":"Keep an eye on your property with the EZVIZ Outdoor PT H8 Pro, a weatherproof security camera with a wide viewing angle and motion detection."},{"brand":"HIKVISION","product_name":"DS-KIS204 Video Door Phone","price":6500,"category":"Security & Surveillance","description":"Enhance your home security with the HIKVISION DS-KIS204 Video Door Phone, which allows you to see and speak to visitors before opening the door."},{"brand":"callmate","product_name":"Roadvoyager Car Dashboard Camera","price":5999,"category":"Security & Surveillance","description":"Record your drives in high definition with the callmate Roadvoyager, a dashboard camera with a wide-angle lens and loop recording."},{"brand":"callmate","product_name":"Roadrunner Car Dashboard Camera","price":2999,"category":"Security & Surveillance","description":"The callmate Roadrunner is a compact and affordable dashboard camera that provides reliable recording and peace of mind on the road."},{"brand":"Qubo","product_name":"Dash Cam Pro","price":3990,"category":"Security & Surveillance","description":"Capture every detail of your journey with the Qubo Dash Cam Pro, featuring high-quality video recording and a range of advanced safety features."}]');var A=r(444);const I={gemini:{apiUrl:"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",apiKey:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Advisor.AI",slug:"snack-aee26c9a-6ffb-45bc-8a01-147473d5337e",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",newArchEnabled:!0,splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_GEMINI_KEY,model:"gemini-2.5-flash",timeout:3e4},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}};function _(e){const t=String(e||"").toLowerCase();let r=null;const o=t.match(/(under|below|less than|<=|<|budget)\s*([0-9]{2,7})/);if(o)r=parseInt(o[2],10);else{const e=t.match(/([0-9]{2,7})/);e&&(r=parseInt(e[1],10))}const a=new Set(["i","need","a","an","the","for","me","to","my","on","in","of","and","or","with","show","find","buy","get","under","below","less","than","budget","random","something"]);return{budget:r,keywords:t.replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(Boolean).filter(e=>!a.has(e))}}const E={cup:["kitchen","coffee","mug"],mugs:["kitchen","coffee","mug"],mug:["kitchen","coffee","mug"],speaker:["entertainment","audio"],headphones:["entertainment","audio"],headphone:["entertainment","audio"],vacuum:["home improvement"],lock:["security","security & surveillance"],camera:["security","security & surveillance"],coffee:["kitchen appliances"]};function T(e,t,r){let o=0;const a=String(e.product_name||"").toLowerCase(),n=String(e.description||"").toLowerCase(),i=String(e.category||"").toLowerCase();for(const s of r){if(!s)continue;a.includes(s)&&(o+=3),n.includes(s)&&(o+=2),i.includes(s)&&(o+=2);const e=E[s];if(e)for(const t of e)i.includes(t)&&(o+=2),a.includes(t)&&(o+=1)}if(t&&Number.isFinite(e.price))if(e.price<=t){o+=5;o+=2*(1-Math.max(0,t-e.price)/Math.max(1,t))}else{(e.price-t)/Math.max(1,t)<.25&&(o+=1)}return o}function L(e,t,r){const o=[];t&&(e.price<=t?o.push(`within your budget of ${t}`):o.push(`slightly above your budget of ${t}`));const a=String(e.product_name||"").toLowerCase(),n=String(e.description||"").toLowerCase(),i=String(e.category||"").toLowerCase();for(const s of r)if(s)if(a.includes(s)||n.includes(s)||i.includes(s))o.push(`matches your keyword "${s}"`);else if(E[s]){const e=E[s].find(e=>i.includes(e));e&&o.push(`related to "${s}" via ${e}`)}return 0===o.length&&o.push("great value pick based on your query"),o.join(", ")}function O(e,t,r=5){const{budget:o,keywords:a}=_(e);if(0===a.length)return[{brand:"N/A",product_name:"No matching products found",price:0,category:"Information",description:"We don't currently have products matching your query, but we do offer healthtech, entertainment, travel accessories, and smart devices.",reason:"Your query doesn't match our available product categories. Try searching for healthtech, entertainment, travel, or smart home products."}];let n=t.map(e=>({p:e,s:T(e,o,a)})).sort((e,t)=>t.s-e.s).slice(0,r).map(({p:e})=>({brand:e.brand||"Unknown",product_name:e.product_name||"Unnamed Product",price:Number(e.price)||0,category:e.category||"General",description:e.description||"",reason:L(e,o,a)}));if(o){if(0===n.filter(e=>e.price<=o).length){n=[...[...t].sort((e,t)=>(e.price||0)-(t.price||0)).slice(0,Math.min(3,t.length)).map(e=>({brand:e.brand||"Unknown",product_name:e.product_name||"Unnamed Product",price:Number(e.price)||0,category:e.category||"General",description:e.description||"",reason:`closest budget-friendly alternative (no items under ${o})`})),...n].slice(0,r)}}return n.length>0?n:[{brand:"N/A",product_name:"No matching products found",price:0,category:"Information",description:"We don't currently have products matching your query, but we do offer healthtech, entertainment, travel accessories, and smart devices.",reason:"Your query doesn't match our available product categories. Try searching for healthtech, entertainment, travel, or smart home products."}]}async function j(e,t){try{if(!function(){const e=[];return I.gemini.apiKey||e.push("EXPO_PUBLIC_GEMINI_KEY environment variable is not set"),!(e.length>0)||(console.warn("Configuration validation failed:",e),!1)}())throw new Error("Invalid configuration - check your environment variables");if(!e||!t)throw new Error("User query and product catalog are required");const a=new A.GoogleGenerativeAI(I.gemini.apiKey).getGenerativeModel({model:I.gemini.model}),{budget:n,keywords:i}=_(e),s=`You are an AI Product Advisor.\nFrom the provided product catalog JSON, recommend the best matching items for the user's request.\n\nRules:\n- Parse budget if the user mentions constraints like "under 100". Treat numbers as currency units.\n- Prefer items within budget; if none fit, recommend the closest affordable alternatives and mention they are slightly above budget.\n- If the query is vague or random, infer likely interests and return value-for-money, broadly appealing picks.\n\n- If the user's query is random, nonsensical, or contains no meaningful keywords, return ONLY a single JSON object inside the array exactly as shown below. Do not add any other products in this case:\n  {\n    "brand": "N/A",\n    "product_name": "No valid match found",\n    "price": 0,\n    "category": "General",\n    "description": "Unable to understand your request.",\n    "reason": "Your query doesn't seem to relate to any products. Please try rephrasing."\n  }\n  In this case, IGNORE the rule about "Always return 3\u20135 items" and return ONLY this one object. Do not add filler or fallback products alongside it.\n- Always return 3\u20135 items when possible.\n- Keep prices numeric. Do not include currency symbols.\n\nUser Query: "${e}"\nDetected Budget: ${n??"none"}\nDetected Keywords: ${JSON.stringify(i)}\n\nProduct Catalog:\n${JSON.stringify(t,null,2)}\n\nRespond ONLY in valid JSON using this exact format:\n[\n  {\n    "brand": "Brand",\n    "product_name": "Product Name",\n    "price": 2098,\n    "category": "Category",\n    "description": "Short description",\n    "reason": "Why it's recommended (mention budget/keyword match where relevant)"\n  }\n]\nImportant: Return ONLY the JSON array, with 3\u20135 items.`,c=(await a.generateContent({contents:[{role:"user",parts:[{text:s}]}],generationConfig:I.generationConfig,safetySettings:I.safetySettings})).response.text().trim();let d;try{d=JSON.parse(c)}catch(r){const e=c.match(/\[.*\]/s);if(!e)throw new Error("No valid JSON response from Gemini");try{d=JSON.parse(e[0])}catch(o){throw new Error("Invalid JSON response from Gemini")}}if(!Array.isArray(d))throw new Error("Response is not an array");if(0===d.length)return O(e,t);const l=d.filter(e=>e&&e.brand&&e.product_name&&void 0!==e.price&&null!==e.price&&e.category&&e.description).map(e=>({brand:e.brand,product_name:e.product_name,price:Number(e.price)||0,category:e.category,description:e.description,reason:e.reason||L(e,n,i)}));if(0===l.length)return O(e,t);if(1===l.length&&("No valid match found"===l[0].product_name||"No matching products found"===l[0].product_name)&&"N/A"===l[0].brand)return O(e,t);if(l.length<3){const r=O(e,t,5),o=[...l];for(const e of r)if(o.find(t=>t.product_name===e.product_name&&t.brand===e.brand)||o.push(e),o.length>=3)break;return o}return l}catch(a){return O(e,t)}}const P={colors:{background:"#fafafa",surface:"#ffffff",text:"#1a1a1a",textSecondary:"#6b7280",primary:"#000000",primaryForeground:"#ffffff",secondary:"#f3f4f6",secondaryForeground:"#374151",muted:"#f9fafb",mutedForeground:"#9ca3af",accent:"#f1f5f9",accentForeground:"#475569",destructive:"#ef4444",destructiveForeground:"#ffffff",border:"#e5e7eb",input:"#ffffff",ring:"#1f2937",success:"#10b981",warning:"#f59e0b",info:"#3b82f6",shadow:"#000000",gray50:"#f9fafb",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray700:"#374151",gray800:"#1f2937",gray900:"#111827"},spacing:{xs:4,sm:8,md:16,lg:24,xl:32,"2xl":48,"3xl":64},radius:{xs:4,sm:8,md:12,lg:16,xl:20,"2xl":24,full:9999}},R={colors:{background:"#000000",surface:"#0a0a0a",text:"#ffffff",textSecondary:"#d1d5db",primary:"#ffffff",primaryForeground:"#000000",secondary:"#111111",secondaryForeground:"#e5e7eb",muted:"#1a1a1a",mutedForeground:"#9ca3af",accent:"#1f1f1f",accentForeground:"#e5e7eb",destructive:"#ef4444",destructiveForeground:"#ffffff",border:"#1a1a1a",input:"#111111",ring:"#ffffff",success:"#10b981",warning:"#f59e0b",info:"#3b82f6",boxshadow:"#000000",gray50:"#000000",gray100:"#0a0a0a",gray200:"#111111",gray300:"#1a1a1a",gray400:"#1f1f1f",gray500:"#262626",gray600:"#404040",gray700:"#525252",gray800:"#737373",gray900:"#a3a3a3"},spacing:P.spacing,radius:P.radius},B=(0,a.createContext)(),N=({children:e})=>{const[t,r]=(0,a.useState)(!1),[o,n]=(0,a.useState)(P);(0,a.useEffect)(()=>{n(t?R:P)},[t]);const i={isDarkTheme:t,currentTheme:o,toggleTheme:()=>{r(!t)},setTheme:e=>{r(e)},lightTheme:P,darkTheme:R};return(0,y.jsx)(B.Provider,{value:i,children:e})},M=({delay:e,color:t})=>{const r=(0,a.useState)(new u.default.Value(.3))[0],o=(0,a.useState)(new u.default.Value(0))[0];return(0,a.useEffect)(()=>{u.default.loop(u.default.sequence([u.default.parallel([u.default.timing(r,{toValue:1,duration:300,delay:e}),u.default.timing(o,{toValue:-4,duration:300,delay:e})]),u.default.parallel([u.default.timing(r,{toValue:.3,duration:300}),u.default.timing(o,{toValue:0,duration:300})])])).start()},[r,o,e]),(0,y.jsx)(u.default.View,{style:{width:8,height:8,borderRadius:4,backgroundColor:t,marginHorizontal:3,opacity:r,transform:[{translateY:o}]}})};function H(){const[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)([]),[s,m]=(0,a.useState)(!1),[g,f]=(0,a.useState)(""),[w,S]=(0,a.useState)(!1),[C]=(0,a.useState)(new u.default.Value(0)),[A]=(0,a.useState)(new u.default.Value(0)),{isDarkTheme:I,currentTheme:_,toggleTheme:E}=(()=>{const e=(0,a.useContext)(B);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})();(0,a.useEffect)(()=>{if(s){(()=>{A.setValue(0),u.default.loop(u.default.timing(A,{toValue:1,duration:1e3})).start()})()}else A.stopAnimation()},[s,A]);const T=C.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]}),L=async(r=null)=>{const a=r||e;if(a.trim()){m(!0),f(""),o([]),r&&t(r);try{const e=await j(a,k);e&&e.length>0?o(e):f("No recommendations found. Try a different description.")}catch(n){f("Failed to get recommendations. Please try again."),console.error("Recommendation error:",n)}finally{m(!1)}}else f("Please enter a description of what you need")};return(0,y.jsxs)(i.default,{style:[D.container,{backgroundColor:_.colors.background}],children:[(0,y.jsx)(l.default,{barStyle:I?"light-content":"dark-content",backgroundColor:_.colors.background}),(0,y.jsxs)(i.default,{style:[D.header,{backgroundColor:_.colors.surface,borderBottomColor:I?_.colors.gray400:_.colors.gray200,boxShadowColor:_.colors.shadow,boxShadowOffset:{width:0,height:4},boxShadowOpacity:.15,boxShadowRadius:8,elevation:8}],children:[(0,y.jsxs)(i.default,{style:D.titleContainer,children:[(0,y.jsx)(c.default,{style:[D.title,{color:_.colors.text}],children:"AI Product Advisor"}),(0,y.jsx)(c.default,{style:[D.subtitle,{color:_.colors.textSecondary}],children:"Smart recommendations powered by AI"})]}),(0,y.jsx)(d.default,{style:[D.themeToggle,{backgroundColor:_.colors.primary,boxShadowColor:_.colors.shadow,boxShadowOffset:{width:0,height:6},boxShadowOpacity:.25,boxShadowRadius:12,elevation:12}],onPress:()=>{u.default.sequence([u.default.timing(C,{toValue:1,duration:300}),u.default.timing(C,{toValue:0,duration:300})]).start(),E()},activeOpacity:.8,children:(0,y.jsx)(u.default.View,{style:{transform:[{rotate:T}]},children:(0,y.jsx)(p.default,{name:I?"sunny":"moon",size:20,color:_.colors.primaryForeground})})})]}),(0,y.jsxs)(n.default,{style:D.scrollView,showsVerticalScrollIndicator:!1,contentContainerStyle:D.scrollContent,refreshControl:(0,y.jsx)(h.default,{refreshing:w,onRefresh:async()=>{S(!0),f(""),o([]),m(!1);const r=e;if(t(""),r.trim())try{const e=await j(r,k);e&&e.length>0&&o(e)}catch(a){f("Failed to refresh recommendations. Please try again."),console.error("Refresh error:",a)}S(!1)},colors:[_.colors.primary],tintColor:_.colors.primary,progressBackgroundColor:_.colors.background}),children:[(0,y.jsx)(b,{query:e,setQuery:t,onSubmit:()=>L(),loading:s,theme:_}),g?(0,y.jsxs)(i.default,{style:[D.errorContainer,{backgroundColor:_.colors.destructive+"15",borderLeftColor:_.colors.destructive}],children:[(0,y.jsx)(p.default,{name:"alert-circle",size:20,color:_.colors.destructive,style:D.errorIcon}),(0,y.jsx)(c.default,{style:[D.errorText,{color:_.colors.destructive}],children:g})]}):null,s&&(0,y.jsx)(i.default,{style:[D.loadingContainer,{backgroundColor:_.colors.surface,boxShadowColor:_.colors.shadow,boxShadowOffset:{width:0,height:2},boxShadowOpacity:.1,boxShadowRadius:8,elevation:4}],children:(0,y.jsxs)(i.default,{style:D.loadingContent,children:[(0,y.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:8},children:[(0,y.jsx)(M,{delay:0,color:_.colors.primary}),(0,y.jsx)(M,{delay:150,color:_.colors.primary}),(0,y.jsx)(M,{delay:300,color:_.colors.primary})]}),(0,y.jsx)(c.default,{style:[D.loadingText,{color:_.colors.textSecondary}],children:"AI is analyzing your request..."}),(0,y.jsx)(c.default,{style:[D.loadingSubtext,{color:_.colors.textTertiary}],children:"This usually takes 5-10 seconds"})]})}),r.length>0&&(0,y.jsxs)(i.default,{style:D.recommendationsContainer,children:[(0,y.jsxs)(i.default,{style:D.recommendationsHeader,children:[(0,y.jsx)(p.default,{name:"checkmark-circle",size:24,color:_.colors.success}),(0,y.jsxs)(c.default,{style:[D.recommendationsTitle,{color:_.colors.text}],children:[r.length," Recommendation",1!==r.length?"s":""," Found"]})]}),r.map((e,t)=>(0,y.jsx)(v,{product:e,theme:_},t))]}),0===r.length&&!s&&!g&&(0,y.jsx)(x,{onTest:L,theme:_})]})]})}const D=s.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:20,paddingTop:10,paddingBottom:20,borderBottomWidth:1},titleContainer:{flex:1,marginRight:16},title:{fontSize:28,fontWeight:"bold",marginBottom:4},subtitle:{fontSize:14,opacity:.8},themeToggle:{width:44,height:44,borderRadius:22,justifyContent:"center",alignItems:"center"},scrollView:{flex:1},scrollContent:{paddingHorizontal:20,paddingBottom:40},errorContainer:{flexDirection:"row",alignItems:"center",padding:12,borderRadius:8,marginBottom:16,borderLeftWidth:4},errorIcon:{marginRight:8},errorText:{fontSize:14,flex:1},recommendationsContainer:{marginTop:16},recommendationsHeader:{flexDirection:"row",alignItems:"center",marginBottom:16},recommendationsTitle:{fontSize:18,fontWeight:"600",marginLeft:8},loadingContainer:{marginTop:16,padding:20,borderRadius:12},loadingContent:{alignItems:"center"},loadingSpinnerWrapper:{width:40,height:40,justifyContent:"center",alignItems:"center"},loadingSpinner:{width:40,height:40,borderRadius:20,borderWidth:3},loadingText:{marginTop:10,fontSize:16,fontWeight:"500"},loadingSubtext:{marginTop:4,fontSize:12,opacity:.7}});(0,o.default)(function(){return(0,y.jsx)(N,{children:(0,y.jsx)(H,{})})})}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.m=e,(()=>{var e=[];r.O=(t,o,a,n)=>{if(!o){var i=1/0;for(l=0;l<e.length;l++){for(var[o,a,n]=e[l],s=!0,c=0;c<o.length;c++)(!1&n||i>=n)&&Object.keys(r.O).every(e=>r.O[e](o[c]))?o.splice(c--,1):(s=!1,n<i&&(i=n));if(s){e.splice(l--,1);var d=a();void 0!==d&&(t=d)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[o,a,n]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,n,[i,s,c]=o,d=0;if(i.some(t=>0!==e[t])){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var l=c(r)}for(t&&t(o);d<i.length;d++)n=i[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(l)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[682],()=>r(4492));o=r.O(o)})();
//# sourceMappingURL=main.2adb452f.js.map